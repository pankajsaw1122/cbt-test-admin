<div [@routerTransition]>

  <h2 class="text-muted"><span>
      <mat-icon class="header-icon">dashboard</mat-icon>
    </span> Dashboard <small>Statistics Overview</small></h2>
  <div class="row">
    <div class="container-fluid">
      <mat-card>
        <mat-card-header class="heading">
          <mat-card-title>
            <h2 class="head-text">
              Manage Exam
            </h2>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="examManageForm" class="form-size">
            <div class="Container fluid">
              <div class="row form-inner">
                <div class="col-6">
                  <div class="form-group">
                    <mat-form-field appearance="outline">
                      <mat-label>Select Exam</mat-label>
                      <mat-select (ngModelChange)="onChange(examManageForm.get('examId').value)"
                        formControlName="examId">
                        <mat-option *ngFor="let exam of examData" [value]="exam.id">{{exam.exam_name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-error>
                      <span *ngIf="!examManageForm.get('examId').valid && examManageForm.get('examId').touched">
                        <span *ngIf="examManageForm.get('examId').errors['required']">Please select Exam</span>
                      </span>
                    </mat-error>
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">
                    <mat-form-field appearance="outline">
                      <mat-label>Select Class</mat-label>
                      <mat-select formControlName="classes">
                        <mat-option value="">Select Class</mat-option>
                        <mat-option value="0">Allow All Class Candidates</mat-option>
                        <mat-option value="IIX">IIX</mat-option>
                        <mat-option value="IX">IX</mat-option>
                        <mat-option value="X">X</mat-option>
                        <mat-option value="XI">XI</mat-option>
                        <mat-option value="XII">XII</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-error>
                      <span *ngIf="!examManageForm.get('classes').valid && examManageForm.get('classes').touched">
                        <span *ngIf="examManageForm.get('classes').errors['required']">Please select Class</span>
                      </span>
                    </mat-error>
                  </div>
                </div>
                <div class="col-6">
                  <mat-form-field appearance="outline">
                    <mat-label>Set Exam Password</mat-label>
                    <input matInput formControlName="setMasterPassword">
                  </mat-form-field>
                  <mat-error>
                    <span *ngIf="!examManageForm.get('setMasterPassword').valid && examManageForm.get('setMasterPassword').touched">
                      <span *ngIf="examManageForm.get('setMasterPassword').errors['required']">Please give Exam Password
                      </span>
                    </span>
                  </mat-error>
                </div>

              </div>
              <div class="button-row">
                <button mat-raised-button [disabled]="!examManageForm.valid" (click)="allowLogin()"
                  color="primary" class="allow-login-btn">{{ btnText1 }}</button> &nbsp;&nbsp;
                <button mat-raised-button [disabled]="!examManageForm.valid" (click)="allowStartExam()" class="start-exam-btn">{{ btnText2 }}</button>
              </div>
            </div>
          </form>
        </mat-card-content>
      </mat-card>

      <!-- <div class="card">
        <div class="card-header">
          Logged In Candidates
        </div>
        <div class="card-block">
          <div class="loading-shade" *ngIf="isLoadingResults">
            <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
          </div>
          <div class="container-fluid">
            <div class="tabel-header">
              <mat-card>Exam Details</mat-card>
            </div>
            <mat-form-field>
              <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
            </mat-form-field>

            <div class="mat-elevation-z8">
              <table mat-table [dataSource]="dataSource" matSort>

                ID Column
                <ng-container matColumnDef="id">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                  <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                </ng-container>

                Progress Column
                <ng-container matColumnDef="fname">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> First Name </th>
                  <td mat-cell *matCellDef="let row"> {{row.fname}} </td>
                </ng-container>

                <ng-container matColumnDef="lname">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
                  <td mat-cell *matCellDef="let row"> {{row.lname}} </td>
                </ng-container>

                <ng-container matColumnDef="classes">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Class</th>
                  <td mat-cell *matCellDef="let row"> {{row.classes}} </td>
                </ng-container>

                <ng-container matColumnDef="roll_no">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Roll No</th>
                  <td mat-cell *matCellDef="let row"> {{row.roll_no}} </td>
                </ng-container>

                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
                  <td mat-cell *matCellDef="let row">
                    <i class="material-icons action-icon" (click)="onEdit(row.id)">
                      edit
                    </i>&nbsp; &nbsp;<i class="material-icons action-icon" (click)="openDialog(row.id)">
                      delete_forever
                    </i> </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                </tr>
              </table>

              <mat-paginator [length]="resultsLength" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
            </div>
          </div>
        </div>
      </div> -->


    </div>
  </div>
